# Panduan Menjalankan Project Menggunakan Docker

Panduan ini ditujukan untuk menjalankan aplikasi **Inventori MSU** menggunakan lingkungan container Docker. Metode ini lebih praktis karena semua dependensi (PHP, MySQL, Web Server) sudah terisolasi dan terkonfigurasi otomatis.

## 1. Prerequisites (Persyaratan)

1.  **Docker Desktop** (Pastikan sudah terinstall dan berjalan).
2.  **Git**.

---

## 2. Struktur Environment

Pada konfigurasi Docker Compose project ini, Anda **TIDAK PERLU** menyalin file `.env` secara manual.
Sistem otomatis menggunakan konfigurasi dari file `.env.docker` yang akan di-mount sebagai `.env` di dalam container.

> **Catatan:** Jika Anda ingin mengubah konfigurasi (misal password DB), ubahlah di file `.env.docker`.

---

## 3. Instalasi & Menjalankan Aplikasi

Buka terminal di dalam folder `inventori-msu`, lalu jalankan perintah berikut:

### Langkah 1: Build dan Jalankan Container

Perintah ini akan mendownload image yang dibutuhkan, membangun container, dan menjalankan server di background.

```bash
docker-compose up -d --build
```

*Tunggu proses ini selesai. Saat pertama kali dijalankan, sistem akan otomatis melakukan instalasi dependensi (Composer & NPM) serta melakukan migrasi database dan seeding data dummy.*

### Langkah 2: Cek Status Container

Pastikan semua container dalam status **UP**:

```bash
docker-compose ps
```

Anda harusnya melihat service berikut:
*   `inventori-msu-app` (Aplikasi Laravel)
*   `inventori-msu-nginx` (Web Server)
*   `inventori-msu-db` (Database MySQL)
*   `inventori-msu-vite` (Frontend Development Server)
*   `inventori-msu-pma` (PHPMyAdmin)

---

## 4. Akses Aplikasi

*   **Halaman Utama:** [http://localhost](http://localhost) (Port 80)
*   **Halaman Booking:** [http://localhost/booking-barang](http://localhost/booking-barang)
*   **PHPMyAdmin (Database GUI):** [http://localhost:8081](http://localhost:8081)
    *   User: `root`
    *   Password: `bismillah`

---

## 5. Command Penting Lainnya

Berikut adalah kumpulan perintah yang sering digunakan saat development menggunakan Docker:

### Menghentikan Aplikasi
```bash
docker-compose down
```

### Melihat Logs (Instalasi/Error)
Jika aplikasi tidak berjalan, cek log untuk debug:
```bash
docker-compose logs -f
```

### Reset Database (Fresh Migration + Seed)
Jika Anda ingin mereset ulang database ke kondisi awal (data dummy):
```bash
docker exec -it inventori-msu-app php artisan migrate:fresh --seed
```

### Masuk ke Terminal Container (SSH-like)
Jika butuh menjalankan perintah artisan lain (misal: `php artisan route:list`):
```bash
docker exec -it inventori-msu-app bash
```
*(Ketik `exit` untuk keluar)*

### Rebuild Container
Jika ada perubahan pada `Dockerfile` atau konfigurasi PHP:
```bash
docker-compose up -d --build
```

---

## Troubleshooting

*   **Port Conflict:** Jika error "Port already allocated", pastikan tidak ada aplikasi lain (seperti XAMPP) yang menggunakan port 80 atau 3306. Matikan XAMPP sebelum menjalankan Docker.
*   **Vite Error / CSS Hilang:** Pastikan container `vite` berjalan. Jika masih error, restart container: `docker-compose restart vite`.
